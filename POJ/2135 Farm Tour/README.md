POJ 2135 Farm Tour

【题目大意】

给出一个N(1 <= N <= 1000)个点M(1 <= M <= 10000)条边的无向图，求从1到N再从N到1不经过相同边的最短路。

【算法分析】

因为是无向图，我们可以发现题目等价于求1到N的两条无共边且和最短的路。那么，我们将源点S向1连容量2费用0的边，将N向汇点T连容量2费用0的边，原图中的无向边拆为正反两条容量1费用边权的边，则求其最小费用最大流即可。

需要理解的是，无向边之所以可以拆成两条有向边，是因为如果取了<u, v>，则出现费用分别为正、负的两条<v, u>，若要取<v, u>必先取费用为负的<u, v>的反向边，退回了之前取的<u, v>，故只可能去正反中的一条。时间复杂度O(NM)。
