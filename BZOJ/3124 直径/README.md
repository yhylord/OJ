BZOJ 3124 直径

首先一个结论是，一棵树的所有直径都过它的重心（直径中点）。那么我们以重心为根重新建树，假如重心在边上新建重心点再拆边即可（为方便我们先将所有边权乘2）。

现在考虑以根为起点的最长链和次长链（沿根不同的两个儿子走下去），若相等则看是否第三长链仍相等，仍相等则无解，否则沿这两条唯一链走下去，答案累加2。

若最长链和次长链不等，则可以沿唯一的最长链走下去，而次长链则要统计相等条数，若唯一可以走下去并答案累加1，否则不管。

继续走下去的路，也要不断保证走唯一的最长链，并一路累加答案，直到最长链不唯一停止。

时间复杂度O(N)。
