BZOJ 3237 连通图

题目允许离线，我们考虑对时间分治。对于测试集序列[l, r]，我们需要知道的是在不考虑[l, r]测试集里边的情况下剩余的边构成的图<V, E>，即我们需要合并那些必然在一个连通块里的点，并对点和边重新标号。

显然，[1, K]对应的<V, E>是可以初始求得的。那么，接下来的问题就是利用[l, r, V, E]来得到[l, mid, V1, E1]和[mid + 1, r, V2, E2]，从而实现递归处理。

而这个问题，我们通过并查集，逐个合并[mid + 1, r]测试集里的边的两端，就可以得到[l, mid, V1, E1]了，反之亦然。

当l = r时若|V| = 1则连通否则不连通。

时间复杂度O(MlogN + Klog^2K)。
