BZOJ 2243 染色

路径剖分 + 线段树。

线段树上一个结点需要维护的信息是左端点颜色、右端点颜色和颜色段数，这样合并是很方便的。

时间复杂度O(NlogN + Mlog^2N)。
