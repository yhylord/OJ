BZOJ 1898 沼泽鳄鱼

因为食人鱼的运动周期只可能是2, 3或4，所以所有食人鱼的运动周期为12。

对于X经过K步到Y的方案数这一经典问题，我们记G为邻接矩阵，F(i)为i步后的结果矩阵，显然有F(i) = F(i - 1) * G。

考虑一个周期内的情况，由于食人鱼的存在，我们记G'(i)表示受时刻i食人鱼影响下的转移矩阵，这是很容易求出的，那么有F(i) = F(i - 1) * G'(i)。

那么，F(K) = F(12)^(K / 12) * F(K % 12)，这样就很容易用矩阵乘法 + 快速幂来求解，时间复杂度O(N^3logK)。
