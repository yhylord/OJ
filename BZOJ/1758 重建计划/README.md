BZOJ 1758 重建计划

首先我们对这棵树进行点分治，接下来考虑处理以root为根的子树。

由于求的是比值，我们很容易想到解决分数规划问题的一般思路――二分。

二分以后我们把边重赋权，然后求边数属于[L, U]的最长路径再判断即可。

这里可以借鉴SPOJ FTOUR2的思路，同样是排序来做，但更新答案不再是直接一路取max，而是使用单调队列来更新这个类似移动窗口的问题。

要注意的是，初值不能全设为负无穷，长度为0的路径是初始存在的（即直接以root为起点走下去）。

由于有二分，时间复杂度O(Nlog^2N)。
