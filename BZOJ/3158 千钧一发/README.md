BZOJ 3158 千钧一发

由简单的数论知识可知，奇数必然满足条件一，偶数必然满足条件二。

因此，根据a_i的奇偶性，我们可以将装置分成两个集合，同时不满足两个条件的装置之间连边。

显然，我们要求的就是二分图最大点权独立集，转化为最小割解决。时间复杂度O(MN^2)。
