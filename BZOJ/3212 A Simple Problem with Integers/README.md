BZOJ 3212 A Simple Problem with Integers

我们要对一个区间加上某个值，还要查询某个区间的和。

显然，修改和查询的区间[x, y]都可以转化为[1, x - 1]和[1, y]。

那么，我们把修改[1, x']简记为x'，加的数为d，询问[1, x]简记为x。

我们维护两个树状数组，分别处理以下两种情况。

当x' <= x时，x'对x的贡献值为x' * d，因此用树状数组维护所有x的sigma{x' * d}。

当x' > x时，x'对x的贡献值为x * d，因此用树状数组维护所有x的sigma{d}。

维护的时候，自行计算一下影响的范围就可以了。

时间复杂度O(N + QlogN)。
