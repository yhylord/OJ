BZOJ 2729 排队

首先我们把男生放在那里，考虑放进老师，有两种情况：老师不相邻，那么再放入女生的总方案数为C(N + 1, 2) * C(N + 3, M)；老师相邻，那么再放入女生的总方案数为C(N + 1, 1) * C(N + 2, M - 1)。

由于我们只求了组合，最后还要再乘上N!M!2!从而变为排列数。我们可以采用分解质因数的方法避免高精度除法，只需要高精度乘法和加法即可。时间复杂度O(NlogN)。
